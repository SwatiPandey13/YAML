steps:
- script: |
    mkdir -p snyk-config
    cd snyk-config
    git init
    git remote add origin $(System.TeamFoundationCollectionUri)$(System.TeamProject)/_git/snyk-policy
    git config core.sparseCheckout true
    echo "SAST_configs/" > .git/info/sparse-checkout
    echo "SCA_configs/" >> .git/info/sparse-checkout
    git pull origin main --depth=1
    cp -a ./SAST_configs ../
    cp -a ./SCA_configs ../
  displayName: 'Sparse checkout via script'
  env:
    GIT_TERMINAL_PROMPT: 0  # Disable prompts


======

 - script: |
      mkdir -p snyk-config
      cd snyk-config
      git init
      git remote add origin $(System.TeamFoundationCollectionUri)$(System.TeamProject)/_git/snyk-policy-config
      git config core.sparseCheckout true
      echo "SAST_configs/" > .git/info/sparse-checkout
      echo "SCA_configs/" >> .git/info/sparse-checkout
      git pull origin main --depth=1
      cp -a ./SAST_configs ../
      cp -a ./SCA_configs ../
    displayName: 'Sparse checkout via script'
    env:
      GIT_TERMINAL_PROMPT: 0  # Disable prompts
